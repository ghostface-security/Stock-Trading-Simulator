Deployment Guide: Stock TradingSimulator on Raspberry PiThis guide details how to deploy the Stock Trading Simulator Flask application on a RaspberryPi, configure it as a systemd service, and expose it publicly using ngrok.1. PrerequisitesBefore you begin, ensure you have the following:● Hardware:○ Raspberry Pi (Model 3, 4, or 5 recommended for performance)○ SD Card (minimum 16GB, 32GB+ recommended)○ Raspberry Pi Power Supply○ Another computer with SSH client (e.g., PuTTY on Windows, built-in terminal onLinux/macOS)● Software (on your computer):○ Raspberry Pi Imager (or similar tool to flash OS to SD card)● Software (on Raspberry Pi - will be installed):○ Raspberry Pi OS Lite (64-bit recommended for server deployments)○ Python 3 and pip○ venv (Python virtual environment)○ systemd (for service management, comes with OS)○ ufw (Uncomplicated Firewall)○ ngrok (for public tunneling)2. Raspberry Pi Initial Setup1. Flash Raspberry Pi OS:○ Download Raspberry Pi OS Lite (64-bit)○ Use Raspberry Pi Imager to flash the OS to your SD card.○ Crucially, use the Imager's advanced options (Ctrl+Shift+X or cog icon) to:■ Enable SSH■ Set a strong password for the pi user (e.g., 16+ characters, mixed case,numbers, symbols).■ Configure Wi-Fi (if not using Ethernet).2. Boot and Connect:○ Insert the SD card into your Raspberry Pi and power it on.○ Find your Pi's IP address on your local network (check your router's connecteddevices or use nmap).○ SSH into your Pi from your computer:ssh pi@<RaspberryPiIPAddress>___(e.g., ssh pi@192.168.1.100)3. Update and Upgrade:sudo apt update && sudo apt upgrade -y4. Install ufw (Uncomplicated Firewall):sudo apt install ufw -y○ Configure UFW rules:sudo ufw allow ssh sudo ufw allow 5000/tcp sudo ufw enable 'y')sudo ufw status verbose 3. Application Deployment# Allow SSH (port 22)# Allow your Flask app # Enable the firewall # Verify rules(port 5000)(confirm with1. Clone the Repository: Navigate to your home directory and clone your project:cd ~git clonehttps://github.com/your-username/Stock-Trading-Simulator.git #Replace with your repo URLcd Stock-Trading-Simulator2. Create and Activate Virtual Environment:python3 -m venv venvsource venv/bin/activate3. Install Dependencies:pip install -r requirements.txt4. (Ensure your requirements.txt is up-to-date with Flask, Flask-SQLAlchemy, Flask-Bcrypt,Flask-WTF, APScheduler, etc.)Update app.py for Production: Open app.py for editing:nano app.pyFind the app.run() line near the bottom: app.run(debug=True, port=5000,use_reloader=False) Change debug=True to debug=False for security in a publicdeployment: app.run(debug=False, port=5000, use_reloader=False) Save and exit(Ctrl+X, then Y, then Enter).4. Running the Application with systemdUsing systemd ensures your application starts automatically on boot and recovers from crashes.1. Create a Startup Script (start_website.sh): Create a new file in your project root:nano startwebsite.sh_Paste the following content:#!/bin/bashcd /home/pi/Stock-Trading-Simulatorsource venv/bin/activateexec python3 app.pySave and exit.2. Make the Script Executable:chmod +x startwebsite.sh_3. Create a systemd Service File:sudo nano /etc/systemd/system/stock-trading-sim.servicePaste the following content:[Unit]Description=Stock Trading Simulator Flask ApplicationAfter=network.target[Service]User=piGroup=piWorkingDirectory=/home/pi/Stock-Trading-SimulatorExecStart=/home/pi/Stock-Trading-Simulator/startwebsite.sh_Restart=alwaysStandardOutput=journalStandardError=journal[Install]WantedBy=multi-user.targetSave and exit.4. Enable and Start the Service:sudo systemctl daemon-reload # Reload systemd torecognize new servicesudo systemctl enable stock-trading-sim.service # Enable serviceto start on boot5. sudo systemctl start stock-trading-sim.service service nowVerify Service Status and Logs:sudo systemctl status stock-trading-sim.servicesudo journalctl -u stock-trading-sim.service -f# Start theYou should see active (running) and the Flask application's startup logs.5. Exposing with ngrokngrok creates a secure tunnel from your local Flask app to a public URL.1. Install ngrok:curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | sudo tee/etc/apt/trusted.gpg.d/ngrok.asc >/dev/nullecho "deb https://ngrok-agent.s3.amazonaws.com buster main" | sudotee /etc/apt/sources.list.d/ngrok.listsudo apt updatesudo apt install ngrok -y2. Authenticate ngrok:○ Go to ngrok.com and create an account.○ Copy your Authtoken from your ngrok dashboard.○ On your Raspberry Pi, run:ngrok authtoken <YOURNGROKAUTHTOKEN>__3. Start the ngrok Tunnel:ngrok http 5000This will display a public URL (e.g., https:/xxxx-yyyy-zzzz.ngrok-free.app) that tunnels toyour Flask application running on port 5000. Keep this terminal window open.6. Important Notes● ngrok is for development/testing: The free ngrok tunnel changes every time you restartit. For a permanent public URL, you'd need a paid ngrok plan or a custom domain with areverse proxy (like Nginx/Apache).● Security: This deployment guide includes basic security measures (UFW, securepassword hashing, CSRF). For a production application, further hardening (e.g., HTTPSwith Certbot, more robust logging, intrusion detection) would be necessary.● Database: The application uses SQLite, which is file-based. While the database file ismoved out of web-accessible paths, for high-trafic or multi-user production apps, adedicated database server (like PostgreSQL or MySQL) is generally recommended.